<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
    <!-- Stable AR.js build -->
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/aframe/build/aframe-ar.js"></script>
    
  </head>
  <body>
    <div id="status">Camera starting…</div>

    <a-scene
      embedded
      vr-mode-ui="enabled:false"
      renderer="logarithmicDepthBuffer:true"
      arjs="sourceType:webcam; facingMode:environment; sourceWidth:1280; sourceHeight:720; displayWidth:1280; displayHeight:720; debugUIEnabled:true; patternRatio:0.90; smooth:true; smoothCount:5; smoothTolerance:0.01; smoothThreshold:2;"
    >
      <a-marker type="pattern" url="pattern-ar-marker.patt" id="m">
        <!-- Center (fixed) -->
          <a-image
            id="main"
            src="main.png"
            width="2"
            height="2"
            rotation="-90 0 0"
            position="0 0 0"
            material="side: double; transparent: true"
          >
          </a-image>

        <!-- Left (yaw-locked parent, slight inward tilt on child) -->
          <a-image
            id="linkedin"
            src="linkedin.png"
            width="2"
            height="2"
            position="-1.9 0 0"
            rotation="-90 -0 0"
            material="side: double; transparent: true"
          >
          </a-image>

        <!-- Right -->
          <a-image
            id="github"
            src="github.png"
            width="2"
            height="2"
            position="1.9 0 0"
            rotation="-90 0 0"
            material="side: double; transparent: true"
          >
          </a-image>

        <!-- Up -->
          <a-image
            id="resume"
            src="resume.png"
            width="2"
            height="2"
            position="0 0 -2.5"
            rotation="-90 0 0"
          >
          </a-image>

        <!-- Down -->
          <a-image
            id="transcript"
            src="transcript.png"
            width="2"
            height="2"
            position="0 0 2.5"
            rotation="-90 0 0"
            material="side: double; transparent: true"
          >
          </a-image>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      const s = document.getElementById("status");
      const marker = document.getElementById("m");

      document.querySelector("a-scene").addEventListener("loaded", () => {
        s.textContent = "Scene loaded. Point at your marker.";
      });

      marker.addEventListener("markerFound", () => {
        s.textContent = "✅ Marker FOUND";
      });
      marker.addEventListener("markerLost", () => {
        s.textContent =
          "❌ Marker LOST — hold steady, good lighting, fill more of the view";
      });
    </script>
  </body>
</html>
